import{a as Z}from"./chunk-DSKCCQJW.js";import{$ as At,A as le,B as ce,C as I,D as Y,E as vt,F as w,G as u,H as he,I as Ct,J as O,K as R,L as ye,M as b,N as H,O as G,P as h,Q as d,R as x,S as Mt,T as xt,U as K,V as m,W as f,X as We,Y as Le,Z as Ge,_ as C,a as M,b as P,ba as bt,c as F,ca as wt,d as ut,da as Vt,e as pt,ea as Q,f as gt,fa as ve,g as mt,h as ne,ha as Dt,i as Ue,ia as It,j as ft,ja as Qe,k as _t,ka as $e,l as _e,m as W,ma as Ce,n as N,na as Me,o as re,oa as xe,p as L,r as oe,s as B,t as se,ta as St,u as V,ua as Ae,v as ae,w as y,wa as be,x as v,y as je,ya as Et,z as yt}from"./chunk-QO7HAL7V.js";var we=(()=>{let e=class e{constructor(){this.productSelected=new ut(void 0),this.productSelected$=this.productSelected.asObservable()}selectProduct(t){this.productSelected.next(t)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();function Ii(r,e){if(r&1){let o=K();h(0,"tr")(1,"td"),C(2),d(),h(3,"td",5),je(),h(4,"svg",6),m("click",function(){let i=y(o).$implicit,n=f();return v(n.editProduct(i))}),x(5,"path",7)(6,"path",8),d(),h(7,"svg",9),x(8,"path",10)(9,"path",11),d()()()}if(r&2){let o=e.$implicit;w(2),At(o.title)}}var Tt=(()=>{let e=class e{constructor(t,i,n){this.api=t,this.admin=i,this.router=n}ngOnInit(){this.api.getAllProducts().subscribe(t=>this.products=t)}goToProduct(){this.admin.selectProduct(void 0),this.router.navigate(["admin-product"])}editProduct(t){this.admin.selectProduct(t),this.router.navigate(["admin-product"])}};e.\u0275fac=function(i){return new(i||e)(u(Z),u(we),u(be))},e.\u0275cmp=B({type:e,selectors:[["app-admin"]],decls:9,vars:1,consts:[[1,"admin"],[1,"admin-head"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16",1,"icon",3,"click"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z"],[4,"ngFor","ngForOf"],[1,"actions"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16",1,"action","edit",3,"click"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16",1,"action","delete"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"],["d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"]],template:function(i,n){i&1&&(h(0,"div",0)(1,"div",1)(2,"p"),C(3,"List of Products"),d(),je(),h(4,"svg",2),m("click",function(){return n.goToProduct()}),x(5,"path",3),d()(),yt(),h(6,"table")(7,"tbody"),R(8,Ii,10,1,"tr",4),d()()()),i&2&&(w(8),b("ngForOf",n.products))},dependencies:[Ce],styles:[".admin[_ngcontent-%COMP%]   .admin-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:2.6rem;border-bottom:2px solid black}.admin[_ngcontent-%COMP%]   .admin-head[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:1.6rem}.admin[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .admin[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{width:100%}.admin[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:.2rem 0;border-bottom:1px solid black}.admin[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex}.admin[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{height:1.6rem}.admin[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{fill:red}.admin[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{fill:#00f}"]});let r=e;return r})();var Lt=(()=>{let e=class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(i){return new(i||e)(u(he),u(ce))},e.\u0275dir=V({type:e});let r=e;return r})(),Te=(()=>{let e=class e extends Lt{};e.\u0275fac=(()=>{let t;return function(n){return(t||(t=le(e)))(n||e)}})(),e.\u0275dir=V({type:e,features:[O]});let r=e;return r})(),ge=new L("");var Si={provide:ge,useExisting:W(()=>Pe),multi:!0};function Ei(){let r=$e()?$e().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var Fi=new L(""),Pe=(()=>{let e=class e extends Lt{constructor(t,i,n){super(t,i),this._compositionMode=n,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Ei())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(i){return new(i||e)(u(he),u(ce),u(Fi,8))},e.\u0275dir=V({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,n){i&1&&m("input",function(a){return n._handleInput(a.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(a){return n._compositionEnd(a.target.value)})},features:[Q([Si]),O]});let r=e;return r})();function U(r){return r==null||(typeof r=="string"||Array.isArray(r))&&r.length===0}function Gt(r){return r!=null&&typeof r.length=="number"}var Qt=new L(""),$t=new L(""),Oi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,T=class{static min(e){return Ri(e)}static max(e){return Ti(e)}static required(e){return Pi(e)}static requiredTrue(e){return ki(e)}static email(e){return zi(e)}static minLength(e){return Ni(e)}static maxLength(e){return Bi(e)}static pattern(e){return Hi(e)}static nullValidator(e){return qt(e)}static compose(e){return ei(e)}static composeAsync(e){return ii(e)}};function Ri(r){return e=>{if(U(e.value)||U(r))return null;let o=parseFloat(e.value);return!isNaN(o)&&o<r?{min:{min:r,actual:e.value}}:null}}function Ti(r){return e=>{if(U(e.value)||U(r))return null;let o=parseFloat(e.value);return!isNaN(o)&&o>r?{max:{max:r,actual:e.value}}:null}}function Pi(r){return U(r.value)?{required:!0}:null}function ki(r){return r.value===!0?null:{required:!0}}function zi(r){return U(r.value)||Oi.test(r.value)?null:{email:!0}}function Ni(r){return e=>U(e.value)||!Gt(e.value)?null:e.value.length<r?{minlength:{requiredLength:r,actualLength:e.value.length}}:null}function Bi(r){return e=>Gt(e.value)&&e.value.length>r?{maxlength:{requiredLength:r,actualLength:e.value.length}}:null}function Hi(r){if(!r)return qt;let e,o;return typeof r=="string"?(o="",r.charAt(0)!=="^"&&(o+="^"),o+=r,r.charAt(r.length-1)!=="$"&&(o+="$"),e=new RegExp(o)):(o=r.toString(),e=r),t=>{if(U(t.value))return null;let i=t.value;return e.test(i)?null:{pattern:{requiredPattern:o,actualValue:i}}}}function qt(r){return null}function Xt(r){return r!=null}function Yt(r){return Dt(r)?pt(r):r}function Kt(r){let e={};return r.forEach(o=>{e=o!=null?M(M({},e),o):e}),Object.keys(e).length===0?null:e}function Zt(r,e){return e.map(o=>o(r))}function Ui(r){return!r.validate}function Jt(r){return r.map(e=>Ui(e)?e:o=>e.validate(o))}function ei(r){if(!r)return null;let e=r.filter(Xt);return e.length==0?null:function(o){return Kt(Zt(o,e))}}function ti(r){return r!=null?ei(Jt(r)):null}function ii(r){if(!r)return null;let e=r.filter(Xt);return e.length==0?null:function(o){let t=Zt(o,e).map(Yt);return mt(t).pipe(gt(Kt))}}function ni(r){return r!=null?ii(Jt(r)):null}function Pt(r,e){return r===null?[e]:Array.isArray(r)?[...r,e]:[r,e]}function ri(r){return r._rawValidators}function oi(r){return r._rawAsyncValidators}function qe(r){return r?Array.isArray(r)?r:[r]:[]}function Ie(r,e){return Array.isArray(r)?r.includes(e):r===e}function kt(r,e){let o=qe(e);return qe(r).forEach(i=>{Ie(o,i)||o.push(i)}),o}function zt(r,e){return qe(e).filter(o=>!Ie(r,o))}var Se=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ti(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ni(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,o){return this.control?this.control.hasError(e,o):!1}getError(e,o){return this.control?this.control.getError(e,o):null}},te=class extends Se{get formDirective(){return null}get path(){return null}},pe=class extends Se{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ee=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ji={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},tr=P(M({},ji),{"[class.ng-submitted]":"isSubmitted"}),si=(()=>{let e=class e extends Ee{constructor(t){super(t)}};e.\u0275fac=function(i){return new(i||e)(u(pe,2))},e.\u0275dir=V({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,n){i&2&&G("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[O]});let r=e;return r})(),ai=(()=>{let e=class e extends Ee{constructor(t){super(t)}};e.\u0275fac=function(i){return new(i||e)(u(te,10))},e.\u0275dir=V({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,n){i&2&&G("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[O]});let r=e;return r})();var de="VALID",Ve="INVALID",ee="PENDING",ue="DISABLED";function Ke(r){return(ke(r)?r.validators:r)||null}function Wi(r){return Array.isArray(r)?ti(r):r||null}function Ze(r,e){return(ke(e)?e.asyncValidators:r)||null}function Li(r){return Array.isArray(r)?ni(r):r||null}function ke(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}function li(r,e,o){let t=r.controls;if(!(e?Object.keys(t):t).length)throw new _e(1e3,"");if(!t[o])throw new _e(1001,"")}function ci(r,e,o){r._forEachChild((t,i)=>{if(o[i]===void 0)throw new _e(1002,"")})}var ie=class{constructor(e,o){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(o)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===de}get invalid(){return this.status===Ve}get pending(){return this.status==ee}get disabled(){return this.status===ue}get enabled(){return this.status!==ue}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kt(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kt(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zt(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zt(e,this._rawAsyncValidators))}hasValidator(e){return Ie(this._rawValidators,e)}hasAsyncValidator(e){return Ie(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(o=>{o.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ee,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let o=this._parentMarkedDirty(e.onlySelf);this.status=ue,this.errors=null,this._forEachChild(t=>{t.disable(P(M({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(P(M({},e),{skipPristineCheck:o})),this._onDisabledChange.forEach(t=>t(!0))}enable(e={}){let o=this._parentMarkedDirty(e.onlySelf);this.status=de,this._forEachChild(t=>{t.enable(P(M({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(P(M({},e),{skipPristineCheck:o})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===de||this.status===ee)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(o=>o._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ue:de}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ee,this._hasOwnPendingAsyncValidator=!0;let o=Yt(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,o={}){this.errors=e,this._updateControlsErrors(o.emitEvent!==!1)}get(e){let o=e;return o==null||(Array.isArray(o)||(o=o.split(".")),o.length===0)?null:o.reduce((t,i)=>t&&t._find(i),this)}getError(e,o){let t=o?this.get(o):this;return t&&t.errors?t.errors[e]:null}hasError(e,o){return!!this.getError(e,o)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new I,this.statusChanges=new I}_calculateStatus(){return this._allControlsDisabled()?ue:this.errors?Ve:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ee)?ee:this._anyControlsHaveStatus(Ve)?Ve:de}_anyControlsHaveStatus(e){return this._anyControls(o=>o.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ke(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let o=this._parent&&this._parent.dirty;return!e&&!!o&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Wi(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Li(this._rawAsyncValidators)}},Fe=class extends ie{constructor(e,o,t){super(Ke(o),Ze(t,o)),this.controls=e,this._initObservables(),this._setUpdateStrategy(o),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,o){return this.controls[e]?this.controls[e]:(this.controls[e]=o,o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange),o)}addControl(e,o,t={}){this.registerControl(e,o),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}setControl(e,o,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],o&&this.registerControl(e,o),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,o={}){ci(this,!0,e),Object.keys(e).forEach(t=>{li(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}patchValue(e,o={}){e!=null&&(Object.keys(e).forEach(t=>{let i=this.controls[t];i&&i.patchValue(e[t],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}reset(e={},o={}){this._forEachChild((t,i)=>{t.reset(e?e[i]:null,{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o),this._updateTouched(o),this.updateValueAndValidity(o)}getRawValue(){return this._reduceChildren({},(e,o,t)=>(e[t]=o.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(o,t)=>t._syncPendingControls()?!0:o);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(o=>{let t=this.controls[o];t&&e(t,o)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[o,t]of Object.entries(this.controls))if(this.contains(o)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(o,t,i)=>((t.enabled||this.disabled)&&(o[i]=t.value),o))}_reduceChildren(e,o){let t=e;return this._forEachChild((i,n)=>{t=o(t,i,n)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Xe=class extends Fe{};var hi=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Je}),Je="always";function Gi(r,e){return[...e.path,r]}function Nt(r,e,o=Je){et(r,e),e.valueAccessor.writeValue(r.value),(r.disabled||o==="always")&&e.valueAccessor.setDisabledState?.(r.disabled),$i(r,e),Xi(r,e),qi(r,e),Qi(r,e)}function Bt(r,e,o=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),Re(r,e),r&&(e._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Oe(r,e){r.forEach(o=>{o.registerOnValidatorChange&&o.registerOnValidatorChange(e)})}function Qi(r,e){if(e.valueAccessor.setDisabledState){let o=t=>{e.valueAccessor.setDisabledState(t)};r.registerOnDisabledChange(o),e._registerOnDestroy(()=>{r._unregisterOnDisabledChange(o)})}}function et(r,e){let o=ri(r);e.validator!==null?r.setValidators(Pt(o,e.validator)):typeof o=="function"&&r.setValidators([o]);let t=oi(r);e.asyncValidator!==null?r.setAsyncValidators(Pt(t,e.asyncValidator)):typeof t=="function"&&r.setAsyncValidators([t]);let i=()=>r.updateValueAndValidity();Oe(e._rawValidators,i),Oe(e._rawAsyncValidators,i)}function Re(r,e){let o=!1;if(r!==null){if(e.validator!==null){let i=ri(r);if(Array.isArray(i)&&i.length>0){let n=i.filter(s=>s!==e.validator);n.length!==i.length&&(o=!0,r.setValidators(n))}}if(e.asyncValidator!==null){let i=oi(r);if(Array.isArray(i)&&i.length>0){let n=i.filter(s=>s!==e.asyncValidator);n.length!==i.length&&(o=!0,r.setAsyncValidators(n))}}}let t=()=>{};return Oe(e._rawValidators,t),Oe(e._rawAsyncValidators,t),o}function $i(r,e){e.valueAccessor.registerOnChange(o=>{r._pendingValue=o,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&di(r,e)})}function qi(r,e){e.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&di(r,e),r.updateOn!=="submit"&&r.markAsTouched()})}function di(r,e){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Xi(r,e){let o=(t,i)=>{e.valueAccessor.writeValue(t),i&&e.viewToModelUpdate(t)};r.registerOnChange(o),e._registerOnDestroy(()=>{r._unregisterOnChange(o)})}function Yi(r,e){r==null,et(r,e)}function Ki(r,e){return Re(r,e)}function Zi(r,e){if(!r.hasOwnProperty("model"))return!1;let o=r.model;return o.isFirstChange()?!0:!Object.is(e,o.currentValue)}function Ji(r){return Object.getPrototypeOf(r.constructor)===Te}function en(r,e){r._syncPendingControls(),e.forEach(o=>{let t=o.control;t.updateOn==="submit"&&t._pendingChange&&(o.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function tn(r,e){if(!e)return null;Array.isArray(e);let o,t,i;return e.forEach(n=>{n.constructor===Pe?o=n:Ji(n)?t=n:i=n}),i||t||o||null}function nn(r,e){let o=r.indexOf(e);o>-1&&r.splice(o,1)}function Ht(r,e){let o=r.indexOf(e);o>-1&&r.splice(o,1)}function Ut(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var De=class extends ie{constructor(e=null,o,t){super(Ke(o),Ze(t,o)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(o),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ke(o)&&(o.nonNullable||o.initialValueIsDefault)&&(Ut(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,o={}){this.value=this._pendingValue=e,this._onChange.length&&o.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,o.emitViewToModelChange!==!1)),this.updateValueAndValidity(o)}patchValue(e,o={}){this.setValue(e,o)}reset(e=this.defaultValue,o={}){this._applyFormState(e),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ht(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ht(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ut(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var rn=r=>r instanceof De;var ui=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=V({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let r=e;return r})(),on={provide:ge,useExisting:W(()=>tt),multi:!0},tt=(()=>{let e=class e extends Te{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let t;return function(n){return(t||(t=le(e)))(n||e)}})(),e.\u0275dir=V({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,n){i&1&&m("input",function(a){return n.onChange(a.target.value)})("blur",function(){return n.onTouched()})},features:[Q([on]),O]});let r=e;return r})();var pi=new L("");var sn={provide:te,useExisting:W(()=>it)},it=(()=>{let e=class e extends te{constructor(t,i,n){super(),this.callSetDisabledState=n,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new I,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Re(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Nt(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Bt(t.control||null,t,!1),nn(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,en(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,n=this.form.get(t.path);i!==n&&(Bt(i||null,t),rn(n)&&(Nt(n,t,this.callSetDisabledState),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);Yi(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&Ki(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){et(this.form,this),this._oldForm&&Re(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(u(Qt,10),u($t,10),u(hi,8))},e.\u0275dir=V({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,n){i&1&&m("submit",function(a){return n.onSubmit(a)})("reset",function(){return n.onReset()})},inputs:{form:[oe.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Q([sn]),O,ae]});let r=e;return r})();var an={provide:pe,useExisting:W(()=>nt)},nt=(()=>{let e=class e extends pe{set isDisabled(t){}constructor(t,i,n,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new I,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=tn(this,s)}ngOnChanges(t){this._added||this._setUpControl(),Zi(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Gi(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(u(te,13),u(Qt,10),u($t,10),u(ge,10),u(pi,8))},e.\u0275dir=V({type:e,selectors:[["","formControlName",""]],inputs:{name:[oe.None,"formControlName","name"],isDisabled:[oe.None,"disabled","isDisabled"],model:[oe.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Q([an]),O,ae]});let r=e;return r})(),ln={provide:ge,useExisting:W(()=>ze),multi:!0};function gi(r,e){return r==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${r}: ${e}`.slice(0,50))}function cn(r){return r.split(":")[0]}var ze=(()=>{let e=class e extends Te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),n=gi(i,t);this.setProperty("value",n)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=cn(t);return this._optionMap.has(i)?this._optionMap.get(i):t}};e.\u0275fac=(()=>{let t;return function(n){return(t||(t=le(e)))(n||e)}})(),e.\u0275dir=V({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,n){i&1&&m("change",function(a){return n.onChange(a.target.value)})("blur",function(){return n.onTouched()})},inputs:{compareWith:"compareWith"},features:[Q([ln]),O]});let r=e;return r})(),mi=(()=>{let e=class e{constructor(t,i,n){this._element=t,this._renderer=i,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(gi(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(u(ce),u(he),u(ze,9))},e.\u0275dir=V({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let r=e;return r})(),hn={provide:ge,useExisting:W(()=>Ne),multi:!0};function jt(r,e){return r==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${r}: ${e}`.slice(0,50))}function dn(r){return r.split(":")[0]}var Ne=(()=>{let e=class e extends Te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let n=t.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(n.indexOf(a.toString())>-1)}}else i=(n,s)=>{n._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let n=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let c=a[l],g=this._getOptionValue(c.value);n.push(g)}}else{let a=i.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let g=this._getOptionValue(c.value);n.push(g)}}}this.value=n,t(n)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=dn(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}};e.\u0275fac=(()=>{let t;return function(n){return(t||(t=le(e)))(n||e)}})(),e.\u0275dir=V({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,n){i&1&&m("change",function(a){return n.onChange(a.target)})("blur",function(){return n.onTouched()})},inputs:{compareWith:"compareWith"},features:[Q([hn]),O]});let r=e;return r})(),fi=(()=>{let e=class e{constructor(t,i,n){this._element=t,this._renderer=i,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(jt(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(jt(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(u(ce),u(he),u(Ne,9))},e.\u0275dir=V({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let r=e;return r})();var un=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=re({});let r=e;return r})(),Ye=class extends ie{constructor(e,o,t){super(Ke(o),Ze(t,o)),this.controls=e,this._initObservables(),this._setUpdateStrategy(o),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,o={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}insert(e,o,t={}){this.controls.splice(e,0,o),this._registerControl(o),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,o={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:o.emitEvent})}setControl(e,o,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),o&&(this.controls.splice(i,0,o),this._registerControl(o)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,o={}){ci(this,!1,e),e.forEach((t,i)=>{li(this,!1,i),this.at(i).setValue(t,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}patchValue(e,o={}){e!=null&&(e.forEach((t,i)=>{this.at(i)&&this.at(i).patchValue(t,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}reset(e=[],o={}){this._forEachChild((t,i)=>{t.reset(e[i],{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o),this._updateTouched(o),this.updateValueAndValidity(o)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(o=>o._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((o,t)=>t._syncPendingControls()?!0:o,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((o,t)=>{e(o,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(o=>o.enabled&&e(o))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Wt(r){return!!r&&(r.asyncValidators!==void 0||r.validators!==void 0||r.updateOn!==void 0)}var _i=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,i=null){let n=this._reduceControls(t),s={};return Wt(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Fe(n,s)}record(t,i=null){let n=this._reduceControls(t);return new Xe(n,i)}control(t,i,n){let s={};return this.useNonNullable?(Wt(i)?s=i:(s.validators=i,s.asyncValidators=n),new De(t,P(M({},s),{nonNullable:!0}))):new De(t,i,n)}array(t,i,n){let s=t.map(a=>this._createControl(a));return new Ye(s,i,n)}_reduceControls(t){let i={};return Object.keys(t).forEach(n=>{i[n]=this._createControl(t[n])}),i}_createControl(t){if(t instanceof De)return t;if(t instanceof ie)return t;if(Array.isArray(t)){let i=t[0],n=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(i,n,s)}else return this.control(t)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var yi=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:pi,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:hi,useValue:t.callSetDisabledState??Je}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=re({imports:[un]});let r=e;return r})();function gn(r,e){if(r&1&&x(0,"img",26),r&2){let o=e.$implicit;b("src",o,Y)}}var vi=(()=>{let e=class e{constructor(t,i,n,s){this.fb=t,this.api=i,this.router=n,this.admin=s,this.productForm=this.fb.group({gender:[null,T.required],brand:[null,T.required],category:[null,T.required],title:[null,T.required],colors:[null,T.required],sizes:[null,T.required],price:[null,T.required],priceAfterDiscount:[null]})}ngOnInit(){this.admin.productSelected$.subscribe(t=>{console.log(t),this.product=t,this.productForm.patchValue({gender:t?.gender,brand:t?.brand,category:t?.category,title:t?.title,colors:t?.colors,sizes:t?.sizes,price:t?.price,priceAfterDiscount:t?.priceAfterDiscount})})}onSubmit(){this.product?(console.log("edit"),this.api.editProduct(this.product.id,this.product)):(console.log("add"),this.api.addProduct(this.productForm.value).subscribe({next:()=>alert("added"),error:()=>alert("error")}))}addImage(){this.router.navigate(["/admin-image"])}};e.\u0275fac=function(i){return new(i||e)(u(_i),u(Z),u(be),u(we))},e.\u0275cmp=B({type:e,selectors:[["app-admin-product"]],decls:41,vars:4,consts:[[1,"admin-product"],[3,"formGroup"],["formControlName","gender"],["value","WOMEN"],["value","MEN"],["type","text","placeholder","Brand","formControlName","brand"],["type","text","placeholder","Category","formControlName","category"],["type","text","placeholder","Title","formControlName","title"],["formControlName","colors","multiple",""],["value","black"],["value","white"],["value","blue"],["value","red"],["formControlName","sizes","multiple",""],["value","XS"],["value","S"],["value","M"],["value","L"],["value","XL"],["value","XXL"],["type","number","placeholder","Price","formControlName","price"],["type","number","placeholder","Price After Discount","formControlName","priceAfterDiscount"],[1,"images"],["alt","",3,"src",4,"ngFor","ngForOf"],[1,"image-add",3,"click"],["type","submit",3,"click","disabled","value"],["alt","",3,"src"]],template:function(i,n){i&1&&(h(0,"h1"),C(1,"Add Product"),d(),h(2,"div",0)(3,"form",1)(4,"select",2)(5,"option",3),C(6,"WOMEN"),d(),h(7,"option",4),C(8,"MEN"),d()(),x(9,"input",5)(10,"input",6)(11,"input",7),h(12,"select",8)(13,"option",9),C(14,"Black"),d(),h(15,"option",10),C(16,"White"),d(),h(17,"option",11),C(18,"Blue"),d(),h(19,"option",12),C(20,"Red"),d()(),h(21,"select",13)(22,"option",14),C(23,"XS"),d(),h(24,"option",15),C(25,"S"),d(),h(26,"option",16),C(27,"M"),d(),h(28,"option",17),C(29,"L"),d(),h(30,"option",18),C(31,"XL"),d(),h(32,"option",19),C(33,"XXL"),d()(),x(34,"input",20)(35,"input",21),h(36,"div",22),R(37,gn,1,1,"img",23),h(38,"div",24),m("click",function(){return n.addImage()}),C(39,"+"),d()(),h(40,"input",25),m("click",function(){return n.onSubmit()}),d()()()),i&2&&(w(3),b("formGroup",n.productForm),w(34),b("ngForOf",n.product==null?null:n.product.imagesUrl),w(3),b("disabled",n.productForm.invalid)("value",n.product?"EDIT":"ADD"))},dependencies:[ui,mi,fi,Pe,tt,ze,Ne,si,ai,it,nt,Ce],styles:[".admin-product[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6rem}.admin-product[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .admin-product[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.2rem 1rem;width:100%}.admin-product[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:.2rem}.admin-product[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.admin-product[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-add[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:4rem;width:100%;background-color:#d3d3d3}"]});let r=e;return r})();var fn=["wrapper"],_n=["sourceImage"];function yn(r,e){if(r&1){let o=K();h(0,"img",5,1),m("load",function(){y(o);let i=f();return v(i.imageLoadedInView())})("mousedown",function(i){y(o);let n=f();return v(n.startMove(i,n.moveTypes.Drag))})("touchstart",function(i){y(o);let n=f();return v(n.startMove(i,n.moveTypes.Drag))})("error",function(i){y(o);let n=f();return v(n.loadImageError(i))}),d()}if(r&2){let o=f();H("visibility",o.imageVisible?"visible":"hidden")("transform",o.safeTransformStyle),G("ngx-ic-draggable",!o.disabled&&o.allowMoveImage),b("src",o.safeImgDataUrl,Y),ye("alt",o.imageAltText)}}function vn(r,e){if(r&1){let o=K();Mt(0),h(1,"span",9),m("mousedown",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"topleft"))})("touchstart",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"topleft"))}),x(2,"span",10),d(),h(3,"span",11),x(4,"span",10),d(),h(5,"span",12),m("mousedown",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"topright"))})("touchstart",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"topright"))}),x(6,"span",10),d(),h(7,"span",13),x(8,"span",10),d(),h(9,"span",14),m("mousedown",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"bottomright"))})("touchstart",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"bottomright"))}),x(10,"span",10),d(),h(11,"span",15),x(12,"span",10),d(),h(13,"span",16),m("mousedown",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"bottomleft"))})("touchstart",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"bottomleft"))}),x(14,"span",10),d(),h(15,"span",17),x(16,"span",10),d(),h(17,"span",18),m("mousedown",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"top"))})("touchstart",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"top"))}),d(),h(18,"span",19),m("mousedown",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"right"))})("touchstart",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"right"))}),d(),h(19,"span",20),m("mousedown",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"bottom"))})("touchstart",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"bottom"))}),d(),h(20,"span",21),m("mousedown",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"left"))})("touchstart",function(i){y(o);let n=f(2);return v(n.startMove(i,n.moveTypes.Resize,"left"))}),d(),xt()}}function Cn(r,e){if(r&1){let o=K();h(0,"div",6),m("keydown",function(i){y(o);let n=f();return v(n.keyboardAccess(i))}),h(1,"div",7),m("mousedown",function(i){y(o);let n=f();return v(n.startMove(i,n.moveTypes.Move))})("touchstart",function(i){y(o);let n=f();return v(n.startMove(i,n.moveTypes.Move))}),d(),R(2,vn,21,0,"ng-container",8),d()}if(r&2){let o=f();H("top",o.cropper.y1,"px")("left",o.cropper.x1,"px")("width",o.cropper.x2-o.cropper.x1,"px")("height",o.cropper.y2-o.cropper.y1,"px")("margin-left",o.alignImage==="center"?o.marginLeft:null)("visibility",o.imageVisible?"visible":"hidden"),G("ngx-ic-round",o.roundCropper),ye("aria-label",o.cropperFrameAriaLabel),w(2),b("ngIf",!o.hideResizeSquares)}}var rt=class{constructor(){this.format="png",this.output="blob",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperFrameAriaLabel="Crop photo",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(e){Object.keys(e).filter(o=>o in this).forEach(o=>this[o]=e[o]),this.validateOptions()}setOptionsFromChanges(e){Object.keys(e).filter(o=>o in this).forEach(o=>this[o]=e[o].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}},S=function(r){return r.Drag="drag",r.Move="move",r.Resize="resize",r.Pinch="pinch",r}(S||{});function Mn(r){switch(r){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}function xn(r){switch(r){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}function An(r,e){switch(r){case"ArrowUp":return{clientX:0,clientY:e*-1};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:e*-1,clientY:0}}}function bn(r,e,o){let t=r.width,i=r.height;e=Math.round(e),o=Math.round(o);let n=t/e,s=i/o,a=Math.ceil(n/2),l=Math.ceil(s/2),c=r.getContext("2d");if(c){let g=c.getImageData(0,0,t,i),p=c.createImageData(e,o),_=g.data,D=p.data;for(let E=0;E<o;E++)for(let k=0;k<e;k++){let $=(k+E*e)*4,j=E*s,A=0,z=0,ot=0,st=0,at=0,lt=0,ct=0,Ai=Math.floor(k*n),bi=Math.floor(E*s),Be=Math.ceil((k+1)*n),He=Math.ceil((E+1)*s);Be=Math.min(Be,t),He=Math.min(He,i);for(let me=bi;me<He;me++){let ht=Math.abs(j-me)/l,wi=k*n,Vi=ht*ht;for(let fe=Ai;fe<Be;fe++){let dt=Math.abs(wi-fe)/a,q=Math.sqrt(Vi+dt*dt);if(q>=1)continue;A=2*q*q*q-3*q*q+1;let X=4*(fe+me*t);ct+=A*_[X+3],ot+=A,_[X+3]<255&&(A=A*_[X+3]/250),st+=A*_[X],at+=A*_[X+1],lt+=A*_[X+2],z+=A}}D[$]=st/z,D[$+1]=at/z,D[$+2]=lt/z,D[$+3]=ct/ot}r.width=e,r.height=o,c.putImageData(p,0,0)}}function Ci(r,e){return r/100*e}var wn=(()=>{let e=class e{crop(t,i,n,s,a){let l=this.getImagePosition(t,i,n,a),c=l.x2-l.x1,g=l.y2-l.y1,p=document.createElement("canvas");p.width=c,p.height=g;let _=p.getContext("2d");if(!_)return null;n.backgroundColor!=null&&(_.fillStyle=n.backgroundColor,_.fillRect(0,0,c,g));let D=(n.transform.scale||1)*(n.transform.flipH?-1:1),E=(n.transform.scale||1)*(n.transform.flipV?-1:1),{translateH:k,translateV:$}=this.getCanvasTranslate(t,n,a),j=t.transformed;_.setTransform(D,0,0,E,j.size.width/2+k,j.size.height/2+$),_.translate(-l.x1/D,-l.y1/E),_.rotate((n.transform.rotate||0)*Math.PI/180),_.drawImage(j.image,-j.size.width/2,-j.size.height/2);let A={width:c,height:g,imagePosition:l,cropperPosition:M({},i)};n.containWithinAspectRatio&&(A.offsetImagePosition=this.getOffsetImagePosition(t,i,n,a));let z=this.getResizeRatio(c,g,n);return z!==1&&(A.width=Math.round(c*z),A.height=n.maintainAspectRatio?Math.round(A.width/n.aspectRatio):Math.round(g*z),bn(p,A.width,A.height)),s==="blob"?this.cropToBlob(A,p,n):(A.base64=p.toDataURL("image/"+n.format,this.getQuality(n)),A)}cropToBlob(t,i,n){return F(this,null,function*(){return t.blob=yield new Promise(s=>i.toBlob(s,"image/"+n.format,this.getQuality(n))),t.blob&&(t.objectUrl=URL.createObjectURL(t.blob)),t})}getCanvasTranslate(t,i,n){if(i.transform.translateUnit==="px"){let s=this.getRatio(t,n);return{translateH:(i.transform.translateH||0)*s,translateV:(i.transform.translateV||0)*s}}else return{translateH:i.transform.translateH?Ci(i.transform.translateH,t.transformed.size.width):0,translateV:i.transform.translateV?Ci(i.transform.translateV,t.transformed.size.height):0}}getRatio(t,i){return t.transformed.size.width/i.width}getImagePosition(t,i,n,s){let a=this.getRatio(t,s),l={x1:Math.round(i.x1*a),y1:Math.round(i.y1*a),x2:Math.round(i.x2*a),y2:Math.round(i.y2*a)};return n.containWithinAspectRatio||(l.x1=Math.max(l.x1,0),l.y1=Math.max(l.y1,0),l.x2=Math.min(l.x2,t.transformed.size.width),l.y2=Math.min(l.y2,t.transformed.size.height)),l}getOffsetImagePosition(t,i,n,s){let a=n.canvasRotation+t.exifTransform.rotate,l=this.getRatio(t,s),c,g;a%2?(c=(t.transformed.size.width-t.original.size.height)/2,g=(t.transformed.size.height-t.original.size.width)/2):(c=(t.transformed.size.width-t.original.size.width)/2,g=(t.transformed.size.height-t.original.size.height)/2);let p={x1:Math.round(i.x1*l)-c,y1:Math.round(i.y1*l)-g,x2:Math.round(i.x2*l)-c,y2:Math.round(i.y2*l)-g};return n.containWithinAspectRatio||(p.x1=Math.max(p.x1,0),p.y1=Math.max(p.y1,0),p.x2=Math.min(p.x2,t.transformed.size.width),p.y2=Math.min(p.y2,t.transformed.size.height)),p}getResizeRatio(t,i,n){let s=n.resizeToWidth/t,a=n.resizeToHeight/i,l=new Array;n.resizeToWidth>0&&l.push(s),n.resizeToHeight>0&&l.push(a);let c=l.length===0?1:Math.min(...l);return c>1&&!n.onlyScaleDown?c:Math.min(c,1)}getQuality(t){return Math.min(1,Math.max(0,t.imageQuality/100))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})(),Vn=(()=>{let e=class e{resetCropperPosition(t,i,n,s){if(t?.nativeElement)if(n.cropperStaticHeight&&n.cropperStaticWidth)i.x1=0,i.x2=s.width>n.cropperStaticWidth?n.cropperStaticWidth:s.width,i.y1=0,i.y2=s.height>n.cropperStaticHeight?n.cropperStaticHeight:s.height;else{let a=Math.min(n.cropperScaledMaxWidth,s.width),l=Math.min(n.cropperScaledMaxHeight,s.height);if(!n.maintainAspectRatio)i.x1=0,i.x2=a,i.y1=0,i.y2=l;else if(s.width/n.aspectRatio<s.height){i.x1=0,i.x2=a;let c=a/n.aspectRatio;i.y1=(s.height-c)/2,i.y2=i.y1+c}else{i.y1=0,i.y2=l;let c=l*n.aspectRatio;i.x1=(s.width-c)/2,i.x2=i.x1+c}}}move(t,i,n){let s=this.getClientX(t)-i.clientX,a=this.getClientY(t)-i.clientY;n.x1=i.x1+s,n.y1=i.y1+a,n.x2=i.x2+s,n.y2=i.y2+a}resize(t,i,n,s,a){let l=this.getClientX(t)-i.clientX,c=this.getClientY(t)-i.clientY;switch(i.position){case"left":n.x1=Math.min(Math.max(i.x1+l,n.x2-a.cropperScaledMaxWidth),n.x2-a.cropperScaledMinWidth);break;case"topleft":n.x1=Math.min(Math.max(i.x1+l,n.x2-a.cropperScaledMaxWidth),n.x2-a.cropperScaledMinWidth),n.y1=Math.min(Math.max(i.y1+c,n.y2-a.cropperScaledMaxHeight),n.y2-a.cropperScaledMinHeight);break;case"top":n.y1=Math.min(Math.max(i.y1+c,n.y2-a.cropperScaledMaxHeight),n.y2-a.cropperScaledMinHeight);break;case"topright":n.x2=Math.max(Math.min(i.x2+l,n.x1+a.cropperScaledMaxWidth),n.x1+a.cropperScaledMinWidth),n.y1=Math.min(Math.max(i.y1+c,n.y2-a.cropperScaledMaxHeight),n.y2-a.cropperScaledMinHeight);break;case"right":n.x2=Math.max(Math.min(i.x2+l,n.x1+a.cropperScaledMaxWidth),n.x1+a.cropperScaledMinWidth);break;case"bottomright":n.x2=Math.max(Math.min(i.x2+l,n.x1+a.cropperScaledMaxWidth),n.x1+a.cropperScaledMinWidth),n.y2=Math.max(Math.min(i.y2+c,n.y1+a.cropperScaledMaxHeight),n.y1+a.cropperScaledMinHeight);break;case"bottom":n.y2=Math.max(Math.min(i.y2+c,n.y1+a.cropperScaledMaxHeight),n.y1+a.cropperScaledMinHeight);break;case"bottomleft":n.x1=Math.min(Math.max(i.x1+l,n.x2-a.cropperScaledMaxWidth),n.x2-a.cropperScaledMinWidth),n.y2=Math.max(Math.min(i.y2+c,n.y1+a.cropperScaledMaxHeight),n.y1+a.cropperScaledMinHeight);break;case"center":let g=t.scale,p=Math.min(Math.max(a.cropperScaledMinWidth,Math.abs(i.x2-i.x1)*g),a.cropperScaledMaxWidth),_=Math.min(Math.max(a.cropperScaledMinHeight,Math.abs(i.y2-i.y1)*g),a.cropperScaledMaxHeight);n.x1=i.clientX-p/2,n.x2=i.clientX+p/2,n.y1=i.clientY-_/2,n.y2=i.clientY+_/2,n.x1<0?(n.x2-=n.x1,n.x1=0):n.x2>s.width&&(n.x1-=n.x2-s.width,n.x2=s.width),n.y1<0?(n.y2-=n.y1,n.y1=0):n.y2>s.height&&(n.y1-=n.y2-s.height,n.y2=s.height);break}a.maintainAspectRatio&&this.checkAspectRatio(i.position,n,s,a)}checkAspectRatio(t,i,n,s){let a=0,l=0;switch(t){case"top":i.x2=i.x1+(i.y2-i.y1)*s.aspectRatio,a=Math.max(i.x2-n.width,0),l=Math.max(0-i.y1,0),(a>0||l>0)&&(i.x2-=l*s.aspectRatio>a?l*s.aspectRatio:a,i.y1+=l*s.aspectRatio>a?l:a/s.aspectRatio);break;case"bottom":i.x2=i.x1+(i.y2-i.y1)*s.aspectRatio,a=Math.max(i.x2-n.width,0),l=Math.max(i.y2-n.height,0),(a>0||l>0)&&(i.x2-=l*s.aspectRatio>a?l*s.aspectRatio:a,i.y2-=l*s.aspectRatio>a?l:a/s.aspectRatio);break;case"topleft":i.y1=i.y2-(i.x2-i.x1)/s.aspectRatio,a=Math.max(0-i.x1,0),l=Math.max(0-i.y1,0),(a>0||l>0)&&(i.x1+=l*s.aspectRatio>a?l*s.aspectRatio:a,i.y1+=l*s.aspectRatio>a?l:a/s.aspectRatio);break;case"topright":i.y1=i.y2-(i.x2-i.x1)/s.aspectRatio,a=Math.max(i.x2-n.width,0),l=Math.max(0-i.y1,0),(a>0||l>0)&&(i.x2-=l*s.aspectRatio>a?l*s.aspectRatio:a,i.y1+=l*s.aspectRatio>a?l:a/s.aspectRatio);break;case"right":case"bottomright":i.y2=i.y1+(i.x2-i.x1)/s.aspectRatio,a=Math.max(i.x2-n.width,0),l=Math.max(i.y2-n.height,0),(a>0||l>0)&&(i.x2-=l*s.aspectRatio>a?l*s.aspectRatio:a,i.y2-=l*s.aspectRatio>a?l:a/s.aspectRatio);break;case"left":case"bottomleft":i.y2=i.y1+(i.x2-i.x1)/s.aspectRatio,a=Math.max(0-i.x1,0),l=Math.max(i.y2-n.height,0),(a>0||l>0)&&(i.x1+=l*s.aspectRatio>a?l*s.aspectRatio:a,i.y2-=l*s.aspectRatio>a?l:a/s.aspectRatio);break;case"center":i.x2=i.x1+(i.y2-i.y1)*s.aspectRatio,i.y2=i.y1+(i.x2-i.x1)/s.aspectRatio;let c=Math.max(0-i.x1,0),g=Math.max(i.x2-n.width,0),p=Math.max(i.y2-n.height,0),_=Math.max(0-i.y1,0);(c>0||g>0||p>0||_>0)&&(i.x1+=p*s.aspectRatio>c?p*s.aspectRatio:c,i.x2-=_*s.aspectRatio>g?_*s.aspectRatio:g,i.y1+=_*s.aspectRatio>g?_:g/s.aspectRatio,i.y2-=p*s.aspectRatio>c?p:c/s.aspectRatio);break}}getClientX(t){return"touches"in t&&t.touches[0]?t.touches[0].clientX:"clientX"in t?t.clientX:0}getClientY(t){return"touches"in t&&t.touches[0]?t.touches[0].clientY:"clientX"in t?t.clientY:0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})(),Dn="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==";function In(){return new Promise(r=>{let e=new Image;e.onload=()=>{let o=e.width===1&&e.height===2;r(o)},e.src=Dn})}function Sn(r){switch(typeof r=="object"&&(r=En(r)),r){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}function En(r){let e=new DataView(r);if(e.getUint16(0,!1)!==65496)return-2;let o=e.byteLength,t=2;for(;t<o;){if(e.getUint16(t+2,!1)<=8)return-1;let i=e.getUint16(t,!1);if(t+=2,i==65505){if(e.getUint32(t+=2,!1)!==1165519206)return-1;let n=e.getUint16(t+=6,!1)==18761;t+=e.getUint32(t+4,n);let s=e.getUint16(t,n);t+=2;for(let a=0;a<s;a++)if(e.getUint16(t+a*12,n)==274)return e.getUint16(t+a*12+8,n)}else{if((i&65280)!==65280)break;t+=e.getUint16(t,!1)}}return-1}var Fn=(()=>{let e=class e{constructor(){this.autoRotateSupported=In()}loadImageFile(t,i){return F(this,null,function*(){let n=yield t.arrayBuffer();return yield this.checkImageTypeAndLoadImageFromArrayBuffer(n,t.type,i)})}checkImageTypeAndLoadImageFromArrayBuffer(t,i,n){return this.isValidImageType(i)?this.loadImageFromArrayBuffer(t,n,i):Promise.reject(new Error("Invalid image type"))}isValidImageType(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(t)}loadImageFromURL(t,i){return F(this,null,function*(){let s=yield(yield fetch(t)).blob(),a=yield s.arrayBuffer();return yield this.loadImageFromArrayBuffer(a,i,s.type)})}loadBase64Image(t,i){let n=this.base64ToArrayBuffer(t);return this.loadImageFromArrayBuffer(n,i)}base64ToArrayBuffer(t){t=t.replace(/^data:([^;]+);base64,/gmi,"");let i=atob(t),n=i.length,s=new Uint8Array(n);for(let a=0;a<n;a++)s[a]=i.charCodeAt(a);return s.buffer}loadImageFromArrayBuffer(t,i,n){return F(this,null,function*(){let s=yield new Promise((a,l)=>F(this,null,function*(){try{let c=new Blob([t],n?{type:n}:void 0),g=URL.createObjectURL(c),p=new Image,D=n==="image/svg+xml"?yield this.getSvgImageSize(c):void 0;p.onload=()=>a({originalImage:p,originalImageSize:D,originalObjectUrl:g,originalArrayBuffer:t}),p.onerror=l,p.src=g}catch(c){l(c)}}));return yield this.transformImageFromArrayBuffer(s,i,s.originalImageSize!=null)})}getSvgImageSize(t){return F(this,null,function*(){let s=new DOMParser().parseFromString(yield t.text(),"image/svg+xml").querySelector("svg");if(!s)throw Error("Failed to parse SVG image");let a=s.getAttribute("width"),l=s.getAttribute("height");if(a&&l)return null;let c=s.getAttribute("viewBox")||s.getAttribute("viewbox");if(c){let g=c.split(" ");return{width:+g[2],height:+g[3]}}throw Error("Failed to load SVG image. SVG must have width + height or viewBox definition.")})}transformImageFromArrayBuffer(t,i,n=!1){return F(this,null,function*(){let s=yield this.autoRotateSupported,a=Sn(s?-1:t.originalArrayBuffer);if(!t.originalImage||!t.originalImage.complete)return Promise.reject(new Error("No image loaded"));let l={original:{objectUrl:t.originalObjectUrl,image:t.originalImage,size:t.originalImageSize??{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:a};return this.transformLoadedImage(l,i,n)})}transformLoadedImage(t,i,n=!1){return F(this,null,function*(){let s=i.canvasRotation+t.exifTransform.rotate,a=t.original.size;if(!n&&s===0&&!t.exifTransform.flip&&!i.containWithinAspectRatio)return{original:{objectUrl:t.original.objectUrl,image:t.original.image,size:M({},a)},transformed:{objectUrl:t.original.objectUrl,image:t.original.image,size:M({},a)},exifTransform:t.exifTransform};let l=this.getTransformedSize(a,t.exifTransform,i),c=document.createElement("canvas");c.width=l.width,c.height=l.height;let g=c.getContext("2d");g?.setTransform(t.exifTransform.flip?-1:1,0,0,1,c.width/2,c.height/2),g?.rotate(Math.PI*(s/2)),g?.drawImage(t.original.image,-a.width/2,-a.height/2);let p=yield new Promise(E=>c.toBlob(E,i.format));if(!p)throw new Error("Failed to get Blob for transformed image.");let _=URL.createObjectURL(p),D=yield this.loadImageFromObjectUrl(_);return{original:{objectUrl:t.original.objectUrl,image:t.original.image,size:M({},a)},transformed:{objectUrl:_,image:D,size:{width:D.width,height:D.height}},exifTransform:t.exifTransform}})}loadImageFromObjectUrl(t){return new Promise((i,n)=>{let s=new Image;s.onload=()=>i(s),s.onerror=n,s.src=t})}getTransformedSize(t,i,n){let s=n.canvasRotation+i.rotate;if(n.containWithinAspectRatio)if(s%2){let a=t.width*n.aspectRatio,l=t.height/n.aspectRatio;return{width:Math.max(t.height,a),height:Math.max(t.width,l)}}else{let a=t.height*n.aspectRatio,l=t.width/n.aspectRatio;return{width:Math.max(t.width,a),height:Math.max(t.height,l)}}return s%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})(),Mi=(()=>{let e=class e{constructor(t,i,n,s,a,l,c){this.cropService=t,this.cropperPositionService=i,this.loadImageService=n,this.sanitizer=s,this.cd=a,this.zone=l,this.hammerLoader=c,this.settings=new rt,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=S,this.imageVisible=!1,this.cropperFrameAriaLabel=this.settings.cropperFrameAriaLabel,this.output=this.settings.output,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new I,this.startCropImage=new I,this.imageLoaded=new I,this.cropperReady=new I,this.loadImageFailed=new I,this.transformChange=new I,this.reset()}ngOnChanges(t){this.onChangesUpdateSettings(t),this.onChangesInputImage(t),this.loadedImage?.original.image.complete&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i)),(t.cropper||t.maintainAspectRatio||t.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(this.resetCropOnAspectRatioChange||!this.aspectRatioIsCorrect())&&(t.maintainAspectRatio||t.aspectRatio)?this.resetCropperPosition():t.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop())),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop()),t.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&(this.hideResizeSquares=!0,this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1}))}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){let t=this.imageChangedEvent?.target?.files;return t instanceof FileList&&t.length>0}setCssTransform(){let t=this.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${t}, ${this.transform.translateV||0}${t}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(t){this.loadImageService.loadImageFile(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}setLoadedImage(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.objectUrl),this.cd.markForCheck()}loadImageError(t){console.error(t),this.loadImageFailed.emit()}imageLoadedInView(){this.loadedImage!=null&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(M({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>0}onResize(){if(this.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{let t=M({},this.maxSize);this.setMaxSize(),this.resizeCropperPosition(t),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}}activatePinchGesture(){return F(this,null,function*(){yield this.hammerLoader?.();let t=window?.Hammer||null;if(t){let i=new t(this.wrapper.nativeElement);i.get("pinch").set({enable:!0}),i.on("pinchmove",this.onPinch.bind(this)),i.on("pinchend",this.pinchStop.bind(this)),i.on("pinchstart",this.startPinch.bind(this))}else It()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")})}resizeCropperPosition(t){(t.width!==this.maxSize.width||t.height!==this.maxSize.height)&&(this.cropper.x1=this.cropper.x1*this.maxSize.width/t.width,this.cropper.x2=this.cropper.x2*this.maxSize.width/t.width,this.cropper.y1=this.cropper.y1*this.maxSize.height/t.height,this.cropper.y2=this.cropper.y2*this.maxSize.height/t.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings,this.maxSize),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){let i=+t.key;i>=1&&i<=9&&(this.settings.stepSize=i)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;let n=t.shiftKey?S.Resize:S.Move,s=t.altKey?xn(t.key):Mn(t.key),a=An(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},n,s),this.handleMouseMove(a),this.handleMouseUp()}startMove(t,i,n=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===S.Pinch||i===S.Drag&&!this.allowMoveImage||("preventDefault"in t&&t.preventDefault(),this.moveStart=M({active:!0,type:i,position:n,transform:M({},this.transform),clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t)},this.cropper),this.initMouseMove())}initMouseMove(){Ue(ne(document,"mousemove"),ne(document,"touchmove")).pipe(_t(Ue(ne(document,"mouseup"),ne(document,"touchend")).pipe(ft()))).subscribe({next:t=>this.zone.run(()=>{this.handleMouseMove(t),this.cd.markForCheck()}),complete:()=>this.zone.run(()=>{this.handleMouseUp(),this.cd.markForCheck()})})}startPinch(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart=M({active:!0,type:S.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}handleMouseMove(t){if(this.moveStart.active){if("stopPropagation"in t&&t.stopPropagation(),"preventDefault"in t&&t.preventDefault(),this.moveStart.type===S.Move)this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===S.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===S.Drag){let i=this.cropperPositionService.getClientX(t)-this.moveStart.clientX,n=this.cropperPositionService.getClientY(t)-this.moveStart.clientY;this.transform=P(M({},this.transform),{translateH:(this.moveStart.transform?.translateH||0)+i,translateV:(this.moveStart.transform?.translateV||0)+n}),this.setCssTransform()}}}onPinch(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===S.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.markForCheck())}setMaxSize(){if(this.sourceImage){let t=getComputedStyle(this.sourceImage.nativeElement);this.maxSize.width=parseFloat(t.width),this.maxSize.height=parseFloat(t.height),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage?.transformed?.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.maintainAspectRatio?this.settings.cropperScaledMinHeight=Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?this.settings.cropperScaledMinHeight=Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):this.settings.cropperScaledMinHeight=20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed?.image){let t=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/t:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/t:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(t=!1){this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}handleMouseUp(){this.moveStart.active&&(this.moveStart.active=!1,this.moveStart?.type===S.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(t=this.settings.output){if(this.loadedImage?.transformed?.image!=null){if(this.startCropImage.emit(),t==="blob")return this.cropToBlob();if(t==="base64")return this.cropToBase64()}return null}cropToBlob(){return new Promise((t,i)=>this.zone.run(()=>F(this,null,function*(){let n=yield this.cropService.crop(this.loadedImage,this.cropper,this.settings,"blob",this.maxSize);n?(this.imageCropped.emit(n),t(n)):i("Crop image failed")})))}cropToBase64(){let t=this.cropService.crop(this.loadedImage,this.cropper,this.settings,"base64",this.maxSize);return t?(this.imageCropped.emit(t),t):null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}};e.\u0275fac=function(i){return new(i||e)(u(wn),u(Vn),u(Fn),u(Ae),u(Qe),u(Ct),u(St,8))},e.\u0275cmp=B({type:e,selectors:[["image-cropper"]],viewQuery:function(i,n){if(i&1&&(We(fn,7),We(_n,5)),i&2){let s;Le(s=Ge())&&(n.wrapper=s.first),Le(s=Ge())&&(n.sourceImage=s.first)}},hostVars:6,hostBindings:function(i,n){i&1&&m("resize",function(){return n.onResize()},!1,vt),i&2&&(H("text-align",n.alignImage),G("disabled",n.disabled)("ngx-ix-hidden",n.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},standalone:!0,features:[ae,ve],decls:5,vars:10,consts:[["wrapper",""],["sourceImage",""],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"load","mousedown","touchstart","error","src"],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(i,n){i&1&&(h(0,"div",null,0),R(2,yn,2,8,"img",2),x(3,"div",3),R(4,Cn,3,16,"div",4),d()),i&2&&(H("background",n.imageVisible&&n.backgroundColor),w(2),b("ngIf",n.safeImgDataUrl),w(),H("width",n.maxSize.width,"px")("height",n.maxSize.height,"px")("margin-left",n.alignImage==="center"?n.marginLeft:null),w(),b("ngIf",n.imageVisible))},dependencies:[Me],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0});let r=e;return r})();function On(r,e){r&1&&(h(0,"div",6),C(1,"Loading..."),d())}var xi=(()=>{let e=class e{constructor(t,i){this.sanitizer=t,this.api=i,this.imageChangedEvent="",this.croppedImage="",this.canvasRotation=0,this.translateH=0,this.translateV=0,this.scale=1,this.showCropper=!1,this.containWithinAspectRatio=!1,this.transform={translateUnit:"px"},this.allowMoveImage=!1,this.hidden=!1,this.loading=!1,this.height=546,this.width=364,this.aspectRatio=this.width/this.height}fileChangeEvent(t){this.loading=!0,this.imageChangedEvent=t}imageCropped(t){this.croppedImage=this.sanitizer.bypassSecurityTrustUrl(t.objectUrl||t.base64||""),console.log(t)}imageLoaded(){this.showCropper=!0,console.log("Image loaded")}cropperReady(t){console.log("Cropper ready",t),this.loading=!1}loadImageFailed(){console.error("Load image failed")}upload(){this.api.uploadImage(this.croppedImage,"xxxxxxxxxxxxxxxxx").subscribe()}};e.\u0275fac=function(i){return new(i||e)(u(Ae),u(Z))},e.\u0275cmp=B({type:e,selectors:[["app-admin-image"]],standalone:!0,features:[ve],decls:7,vars:20,consts:[["type","file","accept","image/*",3,"change"],[1,"cropper-wrapper"],["imageAltText","Alternative image text","backgroundColor","red","output","blob","format","png","format","jpeg",3,"transformChange","imageCropped","imageLoaded","cropperReady","loadImageFailed","imageChangedEvent","maintainAspectRatio","aspectRatio","imageURL","containWithinAspectRatio","cropperMinWidth","onlyScaleDown","roundCropper","canvasRotation","transform","alignImage","allowMoveImage","hidden","resizeToHeight","resizeToWidth"],["class","loader",4,"ngIf"],[3,"src"],[3,"click"],[1,"loader"]],template:function(i,n){i&1&&(h(0,"input",0),m("change",function(a){return n.fileChangeEvent(a)}),d(),h(1,"div",1)(2,"image-cropper",2),Vt("transformChange",function(a){return wt(n.transform,a)||(n.transform=a),a}),m("imageCropped",function(a){return n.imageCropped(a)})("imageLoaded",function(){return n.imageLoaded()})("cropperReady",function(a){return n.cropperReady(a)})("loadImageFailed",function(){return n.loadImageFailed()}),d(),R(3,On,2,0,"div",3),x(4,"img",4),h(5,"button",5),m("click",function(){return n.upload()}),C(6,"Upload"),d()()),i&2&&(w(2),H("display",n.showCropper?null:"none"),b("imageChangedEvent",n.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",n.aspectRatio)("imageURL",n.imageURL)("maintainAspectRatio",!0)("containWithinAspectRatio",n.containWithinAspectRatio)("cropperMinWidth",128)("onlyScaleDown",!0)("roundCropper",!1)("canvasRotation",n.canvasRotation),bt("transform",n.transform),b("alignImage","center")("allowMoveImage",n.allowMoveImage)("hidden",n.hidden)("resizeToHeight",n.height)("resizeToWidth",n.width),w(),b("ngIf",n.loading),w(),b("src",n.croppedImage,Y))},dependencies:[Mi,xe,Me],styles:["button[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{width:100%}image-cropper[_ngcontent-%COMP%]{max-height:33vh}.cropper-wrapper[_ngcontent-%COMP%]{min-height:300px;position:relative}.loader[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;font-size:20px;color:#fff}"]});let r=e;return r})();var Rn=[{path:"admin",component:Tt},{path:"admin-product",component:vi},{path:"admin-image",component:xi}],Or=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=re({imports:[Et.forChild(Rn),yi,xe]});let r=e;return r})();export{Or as AdminModule};
